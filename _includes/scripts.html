{% if site.footer_scripts %}
  {% for script in site.footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% else %}
  <script src="{{ '/assets/js/main.min.js' | relative_url }}"></script>
{% endif %}

{% if site.search == true or page.layout == "search" %}
  {%- assign search_provider = site.search_provider | default: "lunr" -%}
  {%- case search_provider -%}
    {%- when "lunr" -%}
      {% include_cached search/lunr-search-scripts.html %}
    {%- when "google" -%}
      {% include_cached search/google-search-scripts.html %}
    {%- when "algolia" -%}
      {% include_cached search/algolia-search-scripts.html %}
  {%- endcase -%}
{% endif %}

{% include analytics.html %}
{% include /comments-providers/scripts.html %}

{% if site.after_footer_scripts %}
  {% for script in site.after_footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% endif %}

<link rel="stylesheet" href="/assets/katex/katex.min.css">
 <script defer src="/assets/katex/katex.min.js"></script>
 <script defer src="/assets/katex/contrib/auto-render.min.js"></script>
 <script>
     document.addEventListener("DOMContentLoaded", function() {
         renderMathInElement(document.body, {
         // customised options
         // • auto-render specific keys, e.g.:
         delimiters: [
             {left: '$$', right: '$$', display: true},
             {left: '$', right: '$', display: false},
               {left: '\\(', right: '\\)', display: false},
               {left: '\\[', right: '\\]', display: true}
           ],
         macros: {
              "‘":"'",
              "’":"'",
              "\\x":"\\mathrm{x}",
              "\\op":"\\mathrm{op}",
              "\\id":"\\mathrm{id}",
              "\\pr":"\\mathrm{pr}",
              "\\ev":"\\mathrm{ev}",
              "\\sk":"\\mathrm{sk}",
              "\\Ab":"\\mathbf{Ab}",
              "\\Ch":"\\mathbf{Ch}",
              "\\PSh":"\\mathbf{PSh}",
              "\\Sh":"\\mathbf{Sh}",
              "\\gl":"\\mathfrak{gl}",
              "\\sl":"\\mathfrak{sl}",
              "\\so":"\\mathfrak{so}",
              "\\su":"\\mathfrak{su}",
              "\\sp":"\\mathfrak{sp}",
              "\\im":"\\operatorname{im}",
              "\\GL":"\\operatorname{GL}",
              "\\SL":"\\operatorname{SL}",
              "\\SO":"\\operatorname{SO}",
              "\\SU":"\\operatorname{SU}",
              "\\Sp":"\\operatorname{Sp}",
              "\\tr":"\\operatorname{tr}",
              "\\cl":"\\operatorname{cl}",
              "\\ch":"\\operatorname{char}",
              "\\RP":"\\mathbb{R}\\mathrm{P}",
              "\\CP":"\\mathbb{C}\\mathrm{P}",
              "\\ini":"\\mathrm{ini}",
              "\\fin":"\\mathrm{fin}",
              "\\Set":"\\mathbf{Set}",
              "\\Rng":"\\mathbf{Rng}",
              "\\Top":"\\mathbf{Top}",
              "\\Man":"\\mathbf{Man}",
              "\\Grp":"\\mathbf{Grp}",
              "\\Mon":"\\mathbf{Mon}",
              "\\CAT":"\\mathbf{CAT}",
              "\\Cat":"\\mathbf{Cat}",
              "\\End":"\\operatorname{End}",
              "\\Aut":"\\operatorname{Aut}",
              "\\Inn":"\\operatorname{Inn}",
              "\\Mor":"\\operatorname{Mor}",
              "\\Mat":"\\operatorname{Mat}",
              "\\obj":"\\operatorname{obj}",
              "\\Fun":"\\operatorname{Fun}",
              "\\Hom":"\\operatorname{Hom}",
              "\\Fix":"\\operatorname{Fix}",
              "\\col":"\\operatorname{col}",
              "\\lcm":"\\operatorname{lcm}",
              "\\Der":"\\operatorname{Der}",
              "\\row":"\\operatorname{row}",
              "\\dim":"\\operatorname{dim}",
              "\\Gal":"\\operatorname{Gal}",
              "\\vol":"\\operatorname{vol}",
              "\\sgn":"\\operatorname{sgn}",
              "\\ext":"\\operatorname{ext}",
              "\\fun":"\\operatorname{fun}",
              "\\Ring":"\\mathbf{Ring}",
              "\\Vect":"\\mathbf{Vect}",
              "\\hTop":"\\mathbf{hTop}",
              "\\lmod":"{#1\\text{-}\\mathbf{Mod}}",
              "\\rmod":"{\\mathbf{Mod}\\text{-}#1}",
              "\\lset":"{#1\\text{-}\\mathbf{Set}}",
              "\\rset":"{\\mathbf{Set}\\text{-}#1}",
              "\\omat":"\\mathfrak{o}",
              "\\umat":"\\mathfrak{u}",
              "\\Omat":"\\operatorname{O}",
              "\\Umat":"\\operatorname{U}",
              "\\Spec":"\\operatorname{Spec}",
              "\\Proj":"\\operatorname{Proj}",
              "\\Stab":"\\operatorname{Stab}",
              "\\stab":"\\operatorname{stab}",
              "\\Frac":"\\operatorname{Frac}",
              "\\proj":"\\operatorname{proj}",
              "\\span":"\\operatorname{span}",
              "\\supp":"\\operatorname{supp}",
              "\\coim":"\\operatorname{coim}",
              "\\card":"\\operatorname{card}",
              "\\rank":"\\operatorname{rank}",
              "\\cone":"\\operatorname{cone}",
              "\\incl":"\\operatorname{incl}",
              "\\Field":"\\mathbf{Field}",
              "\\FVect":"\\mathbf{FVect}",
              "\\codim":"\\operatorname{codim}",
              "\\coker":"\\operatorname{coker}",
              "\\graph":"\\operatorname{graph}",
              "\\degree":"\\operatorname{deg}",
              "\\length":"\\operatorname{length}",
              "\\nullity":"\\operatorname{nullity}",
              "\\residue":"\\operatorname{res}",
              "\\interior":"\\operatorname{int}",
              "\\restrict":"\\mathrm{res}",
              },
           // • rendering keys, e.g.:
           throwOnError : false
         });
     });
 </script> 

 <script language="javascript">
  const percentLabel = document.querySelector("#percent");
  const originalTitle = document.title;
  window.addEventListener("scroll", () => {
    let scrollTop = window.scrollY;
    let docHeight = document.body.offsetHeight;
    let winHeight = window.innerHeight;
    let scrollPercent = scrollTop / (docHeight - winHeight);
    let scrollPercentRounded = Math.round(scrollPercent * 100);
    percentLabel.innerHTML = scrollPercentRounded;
  });
</script>
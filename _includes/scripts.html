{% if site.footer_scripts %}
  {% for script in site.footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% else %}
  <script src="{{ '/assets/js/main.min.js' | relative_url }}"></script>
{% endif %}

{% if site.search == true or page.layout == "search" %}
  {%- assign search_provider = site.search_provider | default: "lunr" -%}
  {%- case search_provider -%}
    {%- when "lunr" -%}
      {% include_cached search/lunr-search-scripts.html %}
    {%- when "google" -%}
      {% include_cached search/google-search-scripts.html %}
    {%- when "algolia" -%}
      {% include_cached search/algolia-search-scripts.html %}
  {%- endcase -%}
{% endif %}

{% include analytics.html %}
{% include /comments-providers/scripts.html %}

{% if site.after_footer_scripts %}
  {% for script in site.after_footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% endif %}

<link rel="stylesheet" href="/assets/katex/katex.min.css">
 <script defer src="/assets/katex/katex.min.js"></script>
 <script defer src="/assets/katex/contrib/auto-render.min.js"></script>
 <script>
     document.addEventListener("DOMContentLoaded", function() {
         renderMathInElement(document.body, {
         // customised options
         // • auto-render specific keys, e.g.:
         delimiters: [
             {left: '$$', right: '$$', display: true},
             {left: '$', right: '$', display: false},
               {left: '\\(', right: '\\)', display: false},
               {left: '\\[', right: '\\]', display: true}
           ],
         macros: {
              "‘":"'",
              "’":"'",
              // symbols
              "\\X":"\\mathrm{X}",
              "\\x":"\\mathrm{x}",
              "\\y":"\\mathrm{y}",
              "\\z":"\\mathrm{z}",
              // categories
              "\\Ab":"\\mathbf{Ab}",
              "\\AffSch":"\\mathbf{AffSch}",
              "\\Alg":"{\\mathbf{Alg}_{#1}}",
              "\\bgr":"\\mathbf{gr}",
              "\\Ch":"\\mathbf{Ch}",
              "\\Cat":"\\mathbf{Cat}",
              "\\CAT":"\\mathbf{CAT}",
              "\\cAlg":"{\\mathbf{cAlg}_{#1}}",
              "\\cMon":"\\mathbf{cMon}",
              "\\cRing":"\\mathbf{cRing}",
              "\\Coh":"\\mathbf{Coh}",
              "\\Field":"\\mathbf{Field}",
              "\\FVect":"\\mathbf{FVect}",
              "\\Grp":"\\mathbf{Grp}",
              "\\hTop":"\\mathbf{hTop}",
              "\\lMod":"{\{\}_{#1}\\mathbf{Mod}}",
              "\\lmod":"{\{\}_{#1}\\mathbf{mod}}",
              "\\LRS":"\\mathbf{LocallyRingedSpace}",
              "\\lset":"{\{\}_{#1}\\mathbf{Set}}",
              "\\Magma":"\\mathbf{Magma}",
              "\\Man":"\\mathbf{Man}",
              "\\Mon":"\\mathbf{Mon}",
              "\\Open":"\\mathbf{Open}",
              "\\PSh":"\\mathbf{PSh}",
              "\\QCoh":"\\mathbf{QCoh}",
              "\\Ring":"\\mathbf{Ring}",
              "\\rMod":"{\\mathbf{Mod}_{#1}}",
              "\\rmod":"{\\mathbf{mod}_{#1}}",
              "\\rset":"{\\mathbf{Set}_{#1}}",
              "\\Rng":"\\mathbf{Rng}",
              "\\Sch":"\\mathbf{Sch}",
              "\\Set":"\\mathbf{Set}",
              "\\Sh":"\\mathbf{Sh}",
              "\\Top":"\\mathbf{Top}",
              "\\Var":"\\mathbf{Var}",
              "\\Vect":"\\mathbf{Vect}",
              // operators
              "\\ab":"\\mathrm{ab}",
              "\\ann":"\\operatorname{ann}",
              "\\Ass":"\\operatorname{Ass}",
              "\\Aut":"\\operatorname{Aut}",
              "\\Balan":"\\operatorname{Balan}",
              "\\Bilin":"\\operatorname{Bilin}",
              "\\Bl":"\\operatorname{Bl}",
              "\\CaCl":"\\operatorname{CaCl}",
              "\\CaDiv":"\\operatorname{CaDiv}",
              "\\card":"\\operatorname{card}",
              "\\ch":"\\operatorname{char}",
              "\\Chow":"\\operatorname{Chow}",
              "\\Cl":"\\operatorname{Cl}",
              "\\cl":"\\operatorname{cl}",
              "\\codim":"\\operatorname{codim}",
              "\\CoEq":"\\operatorname{CoEq}",
              "\\coker":"\\operatorname{coker}",
              "\\col":"\\operatorname{col}",
              "\\coim":"\\operatorname{coim}",
              "\\Cone":"\\operatorname{Cone}",
              "\\cone":"\\operatorname{cone}",
              "\\degree":"\\operatorname{deg}",
              "\\Der":"\\operatorname{Der}",
              "\\dim":"\\operatorname{dim}",
              "\\Div":"\\operatorname{Div}",
              "\\divisor":"\\operatorname{div}",
              "\\End":"\\operatorname{End}",
              "\\ev":"\\mathrm{ev}",
              "\\Ext":"\\operatorname{Ext}",
              "\\ext":"\\operatorname{ext}",
              "\\Eq":"\\operatorname{Eq}",
              "\\fin":"\\mathrm{fin}",
              "\\Fix":"\\operatorname{Fix}",
              "\\Frac":"\\operatorname{Frac}",
              "\\Fun":"\\operatorname{Fun}",
              "\\fun":"\\operatorname{fun}",
              "\\Gal":"\\operatorname{Gal}",
              "\\Gr":"\\operatorname{Gr}",
              "\\gr":"\\operatorname{gr}",
              "\\graph":"\\operatorname{graph}",
              "\\Hom":"\\operatorname{Hom}",
              "\\id":"\\mathrm{id}",
              "\\im":"\\operatorname{im}",
              "\\incl":"\\mathrm{incl}",
              "\\ini":"\\mathrm{ini}",
              "\\initial":"\\operatorname{initial}",
              "\\Inn":"\\operatorname{Inn}",
              "\\interior":"\\operatorname{int}",
              "\\lcm":"\\operatorname{lcm}",
              "\\length":"\\operatorname{length}",
              "\\Mor":"\\operatorname{Mor}",
              "\\Mat":"\\operatorname{Mat}",
              "\\mSpec":"\\operatorname{mSpec}",
              "\\nullity":"\\operatorname{nullity}",
              "\\obj":"\\operatorname{obj}",
              "\\op":"\\mathrm{op}",
              "\\Pic":"\\operatorname{Pic}",
              "\\pr":"\\mathrm{pr}",
              "\\Prin":"\\operatorname{Prin}",
              "\\Proj":"\\operatorname{Proj}",
              "\\proj":"\\operatorname{proj}",
              "\\rank":"\\operatorname{rank}",
              "\\red":"\\mathrm{red}",
              "\\residue":"\\operatorname{res}",
              "\\row":"\\operatorname{row}",
              "\\rSpec":"\\operatorname{\\underline{Spec}}",
              "\\rProj":"\\operatorname{\\underline{Proj}}",
              "\\scl":"\\operatorname{scl}",
              "\\sgn":"\\mathrm{sgn}",
              "\\sk":"\\operatorname{sk}",
              "\\span":"\\operatorname{span}",
              "\\Spec":"\\operatorname{Spec}",
              "\\Stab":"\\operatorname{Stab}",
              "\\stab":"\\operatorname{stab}",
              "\\supp":"\\operatorname{supp}",
              "\\Syl":"\\mathrm{Syl}",
              "\\Sym":"\\operatorname{Sym}",
              "\\Tor":"\\operatorname{Tor}",
              "\\tr":"\\mathrm{tr}",
              "\\trdeg":"\\operatorname{trdeg}",
              "\\vol":"\\operatorname{vol}",
              // Lie groups and Lie algebras
              "\\GL":"\\operatorname{GL}",
              "\\gl":"\\mathfrak{gl}",
              "\\Omat":"\\operatorname{O}",
              "\\omat":"\\mathfrak{o}",
              "\\SL":"\\operatorname{SL}",
              "\\sl":"\\mathfrak{sl}",
              "\\SO":"\\operatorname{SO}",
              "\\so":"\\mathfrak{so}",
              "\\Sp":"\\operatorname{Sp}",
              "\\sp":"\\mathfrak{sp}",
              "\\SU":"\\operatorname{SU}",
              "\\su":"\\mathfrak{su}",
              "\\Umat":"\\operatorname{U}",
              "\\umat":"\\mathfrak{u}",
              // spaces
              "\\CP":"\\mathbb{C}\\mathrm{P}",
              "\\RP":"\\mathbb{R}\\mathrm{P}",
              // misc
              },
           // • rendering keys, e.g.:
           throwOnError : false
         });
     });
 </script> 

 <script language="javascript">
  const percentLabel = document.querySelector("#percent");
  const originalTitle = document.title;
  window.addEventListener("scroll", () => {
    let scrollTop = window.scrollY;
    let docHeight = document.body.offsetHeight;
    let winHeight = window.innerHeight;
    let scrollPercent = scrollTop / (docHeight - winHeight);
    let scrollPercentRounded = Math.round(scrollPercent * 100);
    percentLabel.innerHTML = scrollPercentRounded;
  });
</script>